<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>tcgui</title>
</head>
<body>
<h4>Available Interfaces</h4>
<ul>
    {% for rule in rules %}
        <li>
            {{ rule['name'] }}
            <form method="POST" action="{{ url_for('new_rule', interface=rule['name']) }}">
                <table border="1">
                    <tr>
                        <th>Name</th>
                        <th>Current Value</th>
                        <th>New Value</th>
                        <th>Variance / Correlation</th>
                        <th>New Value</th>
                    </tr>
                    <tr>
                        <td>Rate:</td>
			<td>{{ rule['rate'] }}</td>
                        <td>
                            <input type="number" name="Rate" size="5">
                            <select name="rate_unit">
                                {% for unit in units %}
                                <option value="{{ unit }}"{% if unit == standard_unit %} selected{% endif %}>{{ unit }}</option>
                                {% endfor %}
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>Delay:</td>
                        <td>{{ rule['delay'] }}</td>
                        <td><input type="number" name="Delay" size="5"> ms</td>
                        <td>±{{ rule['delayVariance'] }}</td>
                        <td>±<input type="number" name="DelayVariance" size="5"> ms</td>
                    </tr>
                    <tr>
                        <td>Loss:</td>
                        <td>{{ rule['loss'] }}</td>
                        <td><input type="number" name="Loss" size="5"> %</td>
                        <td>{{ rule['lossCorrelation'] }}</td>
                        <td><input type="number" name="LossCorrelation" size="5"> %</td>
                    </tr>
                    <tr>
                        <td>Duplicate:</td>
                        <td>{{ rule['duplicate'] }}</td>
                        <td><input type="number" name="Duplicate" size="5"> %</td>
                    </tr>
                    <tr>
                        <td>Reorder:</td>
                        <td>{{ rule['reorder'] }}</td>
                        <td><input type="number" name="Reorder" size="5"> %</td>
                        <td>{{ rule['reorderCorrelation'] }}</td>
                        <td><input type="number" name="ReorderCorrelation" size="5"> %</td>
                    </tr>
                    <tr>
                        <td>Corrupt</td>
                        <td>{{ rule['corrupt'] }}</td>
                        <td><input type="number" name="Corrupt" size="5"> %</td>
                    </tr>
                    <tr>
                        <td>Limit</td>
                        <td>{{ rule['limit'] }}</td>
                        <td><input type="number" name="Limit" size="5"></td>
                    </tr>
                </table>
                <input type="submit" value="Apply Rules">
            </form>
            <form method="POST" action="{{ url_for('remove_rule', interface= rule['name']) }}">
                <input type="submit" value="Remove Rules">
            </form>
        </li>
    {% endfor %}
</ul>
<style>
    th,td {
        text-align: center;
    }
</style>
</body>
</html>
